import{d as p,r,u as j,e as x,j as t,a as f}from"./index-Sr71c63D.js";function N(){const{id:i}=p(),[s,o]=r.useState(null),[u,c]=r.useState(!0),[n,l]=r.useState(null),m=j(),d=x();if(r.useEffect(()=>{let a=!0;return c(!0),l(null),fetch(`https://dummyjson.com/products/${i}`).then(e=>{if(!e.ok)throw new Error(`Fetch failed: ${e.status}`);return e.json()}).then(e=>{a&&o(e)}).catch(e=>{a&&l(e.message||"Error fetching product")}).finally(()=>a&&c(!1)),()=>a=!1},[i]),u)return t.jsx("div",{className:"center",children:"Loading product..."});if(n)return t.jsxs("div",{className:"error",children:["Error: ",n]});if(!s)return t.jsx("div",{className:"center",children:"Product not found"});const h=()=>{m(f({id:s.id,title:s.title,price:s.price,thumbnail:s.thumbnail})),d("/cart")};return t.jsxs("div",{className:"product-detail",children:[t.jsxs("div",{className:"pd-gallery",children:[t.jsx("img",{src:s.thumbnail,alt:s.title,loading:"lazy"}),t.jsx("div",{className:"pd-thumbs",children:(s.images||[]).slice(0,4).map((a,e)=>t.jsx("img",{src:a,alt:`${s.title}-${e}`,loading:"lazy"},e))})]}),t.jsxs("div",{className:"pd-info",children:[t.jsx("h2",{children:s.title}),t.jsxs("div",{className:"meta",children:["Brand: ",s.brand," • Category: ",s.category]}),t.jsxs("div",{className:"meta",children:["Rating: ⭐ ",s.rating," • Price: ₹",s.price]}),t.jsx("p",{className:"desc",children:s.description}),t.jsxs("div",{className:"actions",children:[t.jsx("button",{className:"btn",onClick:h,children:"Add to Cart"}),t.jsx("button",{className:"btn ghost",onClick:()=>d(-1),children:"Back"})]})]})]})}export{N as default};
