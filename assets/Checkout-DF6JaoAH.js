import{b as j,r as i,u as g,e as v,j as e,h as p}from"./index-Sr71c63D.js";function b(){const t=j(s=>s.cart.items||[]),[a,l]=i.useState({name:"",email:"",address:""}),[u,c]=i.useState(!1),[n,r]=i.useState(""),o=g(),d=v(),h=t.reduce((s,m)=>s+m.price*m.quantity,0),x=s=>{if(s.preventDefault(),!a.name.trim()||!a.email.trim()||!a.address.trim()){r("Please fill all fields.");return}c(!0),r(""),setTimeout(()=>{o(p()),r("Order placed successfully."),c(!1),setTimeout(()=>d("/"),1200)},900)};return t.length===0?e.jsxs("div",{className:"center",children:[e.jsx("h3",{children:"No items in cart"}),e.jsx("p",{children:"Please add items before checking out."})]}):e.jsxs("div",{className:"checkout",children:[e.jsx("h2",{children:"Checkout"}),e.jsxs("div",{className:"checkout-grid",children:[e.jsxs("form",{className:"checkout-form",onSubmit:x,children:[e.jsxs("label",{children:["Full name",e.jsx("input",{value:a.name,onChange:s=>l({...a,name:s.target.value})})]}),e.jsxs("label",{children:["Email",e.jsx("input",{value:a.email,onChange:s=>l({...a,email:s.target.value})})]}),e.jsxs("label",{children:["Address",e.jsx("textarea",{value:a.address,onChange:s=>l({...a,address:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("button",{className:"btn",type:"submit",disabled:u,children:"Place Order"}),e.jsx("button",{type:"button",className:"btn ghost",onClick:()=>d("/cart"),children:"Back to Cart"})]}),n&&e.jsx("div",{className:"msg",children:n})]}),e.jsxs("aside",{className:"order-summary",children:[e.jsx("h3",{children:"Order Summary"}),t.map(s=>e.jsxs("div",{className:"summary-item",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,loading:"lazy"}),e.jsxs("div",{children:[e.jsx("div",{children:s.title}),e.jsxs("div",{children:["Qty: ",s.quantity," • ₹",s.price*s.quantity]})]})]},s.id)),e.jsxs("div",{className:"summary-total",children:["Total: ₹",h]})]})]})]})}export{b as default};
